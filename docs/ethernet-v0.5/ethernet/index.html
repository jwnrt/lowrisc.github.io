<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <title>lowRISC Ethernet internals &middot; lowRISC</title>
        <link rel="stylesheet" href="https://www.lowrisc.org/css/styles.combined.min.css" />
        <link rel="shortcut icon" href="https://www.lowrisc.org/favicon.ico" />
        <link rel="alternate" href="https://www.lowrisc.org/index.xml" type="application/rss+xml" title="lowRISC" />
        <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Source+Sans+Pro' type='text/css'>
        <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Exo+2' type='text/css'>
        <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-53520714-1', 'auto');
        ga('send', 'pageview');
      </script>
  </head>

  <body data-page="article">
<div class="header">
  <header data-component="menu">

    <section class="outer-container">
      <div class="image">
        <a href="https://www.lowrisc.org"><img src="https://www.lowrisc.org/img/logo.svg"></a>
      </div>

      <div class="menu">
        <ul>
          
          <li><a href="/"> Home </a></li>
          
          <li><a href="/about/"> About </a></li>
          
          <li><a href="/blog/"> Blog </a></li>
          
          <li><a href="/faq/"> FAQ </a></li>
          
          <li><a href="/docs/"> Docs </a></li>
          
          <li><a href="/community/"> Community </a></li>
          
        </ul>
      </div>
    </section>

  </header>
</div>









    <div class="article">
      <section class="outer-container">
        <div class="row">
            <div class="sixteen columns">
                <article class="li-article">
                
                  <p>
                    <a href="https://www.lowrisc.org/docs/ethernet-v0.5/">â‡¡ Tutorial for the v0.5 lowRISC preview release</a>
                  </p>
                
                    <header class="li-article-header">
                        <h1 class="li-article-title">lowRISC Ethernet internals</h1>
                        <span class="li-article-taxonomies">
                            

                            
                        </span>
                        
                        
                    </header>
                    <section>
                        

<p>This lowRISC release introduces 100Mbps Ethernet, allowing remote ssh and
network filing system functionality.</p>

<h2 id="rtl-changes:9de3da8ba238018969aebf4a4f15de58">RTL changes</h2>

<p>The PHY of the Ethernet uses reduced media independent interface (RMII). The transmission rate is fixed at 100MHz
and is found to be compatible with most hubs and switches. The possibility to communicate with the PHY is programmed
but not used.</p>

<p>The core of the Ethernet block is adapted from a suite of IP provided by Alex Forencich.</p>

<p><a href="https://github.com/alexforencich/verilog-ethernet.git">https://github.com/alexforencich/verilog-ethernet.git</a></p>

<p>It requires a wrapper and some buffer RAMs to enable it to be controlled by the Rocket, plus an interrupt interface.
This interface always operates in promiscuous mode, meaning all valid packets received by the media access controller (MAC)
are passed to the kernel to decide what shall be done with them.</p>

<p>The regular routines are setting and retrieving the MAC address of the device are present, but they make no difference to
operation in this version/</p>

<h2 id="linux-driver:9de3da8ba238018969aebf4a4f15de58">Linux driver</h2>

<p>A conventional model is followed with no DMA. It is assumed that the transmit will be so fast that the transmit buffer will
never be full. Conversely multiple packets could be received before being noticed by the processor and for this purpose the
received is adapted to receive up to 8 full-sized packets in quick succession. THis driver is interrupt driven in the usual way.</p>

<h2 id="user-land-operation:9de3da8ba238018969aebf4a4f15de58">User land operation</h2>

<p>A complete suite of Linux user commands is available via the Poky Linux districution for RISCV. Only a few small changes are needed
to adapt the distribution to the changed device names.</p>

<h2 id="dhcp:9de3da8ba238018969aebf4a4f15de58">DHCP</h2>

<p>Dynamic host configuration protocol is supported for standalone computer use. It cannot be used if remote booting or NFS is required.
A time protocol server is also preferable but not a showstopper.</p>

<h2 id="remote-booting:9de3da8ba238018969aebf4a4f15de58">Remote booting</h2>

<p>This release adds a protocol for booting Linux or bare metal programs over Ethernet. Hence it is possible to operate without SD-cards
or serial access to the device. In the latter case it highly desirable to have a VGA monitor and USB keyboard, and separate power provision
needs to be provided.</p>

                    </section>
                </article>

        </div>
      </section>
    </div>
    
    <div class="row li-pagination article">
      <div class="eight columns">
        <div class="li-pagination-previous">
          &nbsp;
          
        </div>
      </div>
      <div class="eight columns">
        <div class="li-pagination-next">
          &nbsp;
          
        </div>
      </div>
    </div>
    


                

            <div id="disqus_thread"></div>
            <script type="text/javascript">
                 
                var disqus_shortname = 'lowrisc'; 
                var disqus_identifier = "/" + "docs/ethernet-v0.5/ethernet";
                var disqus_title = "lowRISC Ethernet internals";
                var disqus_url = "https://www.lowrisc.org" + "docs/ethernet-v0.5/ethernet";

                 
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
            </div>
            

        <footer>

          <section class="outer-container">

            <div>
              <div class="link-container">
              </div>
            </div>

            <p>
              Unless otherwise noted, content on this site is licensed under a Creative Commons Attribution ShareAlike 4.0 International License
            </p>

          </section>

        </footer>
    </body>
</html>


    </body>
</html>

